# マッチングシステム

## 大まかな流れ

1. プレイヤーが、ソロ、デュオ、トリオのいずれかでエントリーする。
2. エントリーが蓄積されたら、運営がマッチメイキングを開始する。この時点でエントリーは仮の締め切り状態となる。
3. 運営が、返ってきたマッチング結果を確認する。
    1. 人数が足りている場合、マッチングを「コミット」する。「コミット」とは、マッチング結果を確定し、エントリーを完全に締め切ること。
    2. 人数が足りない場合、エントリーが蓄積されるのを待ち、再度マッチングを開始する。(3.に戻る)
4. コミットしたら、システムが、VCに自動割り当てを行う。

## 各種API

### エントリー作成は下記APIを叩く。

POST: `/matching/entries`

```json
{
  "players": [
    {
      "id": "string",
      "name": "string",
      "point": 0
    },
    {
      "id": "string",
      "name": "string",
      "point": 0
    }
  ]
}
```

### エントリーの状態は下記で確認できる。締め切られたエントリーは取得されない。

GET: `/matching/entries`

### マッチメイキングは下記を叩く。

POST: `/matching/match_making`

### マッチング結果は下記で確認できる。

GET: `/matching/matches`

GET: `/matching/matches/{id}`

### マッチングのコミットは、下記を叩く

POST: `/matching/match_committing/{id}`
